{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_data-services/user.data-service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction UsersComponent_div_0_div_5_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UsersComponent_div_0_div_5_table_2_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 7)(2, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_0_div_5_table_2_tr_10_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const user_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r8.edit(user_r7));\n    });\n    i0.ɵɵtext(3, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_0_div_5_table_2_tr_10_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const user_r7 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r10.delete(user_r7));\n    });\n    i0.ɵɵtext(5, \"Excluir\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"th\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 7);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r7 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(user_r7.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r7.email);\n  }\n}\nfunction UsersComponent_div_0_div_5_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 4)(1, \"thead\")(2, \"tr\")(3, \"th\", 5);\n    i0.ɵɵtext(4, \"Actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 5);\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 5);\n    i0.ɵɵtext(8, \"Email\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, UsersComponent_div_0_div_5_table_2_tr_10_Template, 10, 2, \"tr\", 6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.users);\n  }\n}\nfunction UsersComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UsersComponent_div_0_div_5_p_1_Template, 3, 0, \"p\", 0);\n    i0.ɵɵtemplate(2, UsersComponent_div_0_div_5_table_2_Template, 11, 1, \"table\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.users);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.users);\n  }\n}\nfunction UsersComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\")(2, \"div\", 9)(3, \"label\", 10);\n    i0.ɵɵtext(4, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_0_div_6_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.user.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 9)(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_0_div_6_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.user.email = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 9)(11, \"label\", 12);\n    i0.ɵɵtext(12, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_0_div_6_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.user.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_0_div_6_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.save());\n    });\n    i0.ɵɵtext(15, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.user.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.user.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.user.password);\n  }\n}\nfunction UsersComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 1);\n    i0.ɵɵtext(2, \"Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.showList = !ctx_r16.showList);\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, UsersComponent_div_0_div_5_Template, 3, 2, \"div\", 0);\n    i0.ɵɵtemplate(6, UsersComponent_div_0_div_6_Template, 16, 3, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.showList ? \"Novo Usu\\u00E1rio\" : \"Lista de Usu\\u00E1rios\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.showList);\n  }\n}\nfunction UsersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\")(2, \"div\", 9)(3, \"label\", 12);\n    i0.ɵɵtext(4, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_1_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.userLogin.email = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 9)(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_1_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.userLogin.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_1_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.authenticate());\n    });\n    i0.ɵɵtext(11, \"Login\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.userLogin.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.userLogin.password);\n  }\n}\nexport class UsersComponent {\n  constructor(userDataService) {\n    this.userDataService = userDataService;\n    this.users = [];\n    this.user = {};\n    this.userLogin = {};\n    this.userLogged = {};\n    this.showList = true;\n    this.isAuthenticated = false;\n  }\n  ngOnInit() {\n    this.get();\n  }\n  get() {\n    this.userDataService.get().subscribe(data => {\n      this.users = data;\n      this.showList = true;\n    }, error => {\n      console.log(error);\n      alert('erro interno do sistema');\n    });\n  }\n  put() {\n    this.userDataService.put(this.user).subscribe(data => {\n      if (data) {\n        alert('Usuario alterado com sucesso');\n        this.get();\n        this.user = {};\n      } else {\n        alert('Erro ao alterar usuário');\n      }\n    }, error => {\n      console.log(error);\n      alert('erro interno do sistema - PUT');\n    });\n  }\n  post() {\n    this.userDataService.post(this.user).subscribe(data => {\n      if (data) {\n        alert('Usuario cadastrado com sucesso');\n        this.get();\n        this.user = {};\n      } else {\n        alert('Erro ao cadastrar usuário');\n      }\n    }, error => {\n      console.log(error);\n      alert('erro interno do sistema - POST');\n    });\n  }\n  save() {\n    if (this.user.id) {\n      this.put();\n    } else {\n      this.post();\n    }\n  }\n  edit(user) {\n    this.user = user;\n    this.showList = false;\n  }\n  delete(user) {\n    this.userDataService.delete(user.id).subscribe(data => {\n      if (data) {\n        alert('Usuario removido com sucesso');\n        this.get();\n        this.user = {};\n      } else {\n        alert('Erro ao remover usuário');\n      }\n    }, error => {\n      console.log(error);\n      alert('erro interno do sistema - DELETE');\n    });\n  }\n  authenticate() {\n    debugger;\n    this.userDataService.authenticate(this.userLogin).subscribe(data => {\n      if (data) {\n        alert('Usuario autenticado com sucesso');\n        this.get();\n      } else {\n        alert('Erro ao autenticar usuário');\n      }\n    }, error => {\n      console.log(error);\n      alert('erro interno do sistema - Authenticate');\n    });\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserDataService));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"id\", \"tableLabel\"], [1, \"btn-primary\", 3, \"click\"], [\"class\", \"table table-striped\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [\"aria-labelledby\", \"tableLabel\", 1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [1, \"btn-danger\", 3, \"click\"], [1, \"form-group\"], [\"for\", \"exampleInputName\"], [\"type\", \"text\", \"id\", \"exampleInputName\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Name\", \"name\", \"name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"exampleInputEmail\"], [\"type\", \"email\", \"id\", \"exampleInputEmail\", \"placeholder\", \"Email\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"id\", \"exampleInputPassword\", \"placeholder\", \"Password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UsersComponent_div_0_Template, 7, 3, \"div\", 0);\n      i0.ɵɵtemplate(1, UsersComponent_div_1_Template, 12, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsersComponent","constructor","userDataService","ngOnInit","get","subscribe","data","users","showList","error","console","log","alert","put","user","post","save","id","edit","delete","authenticate","userLogin","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\armys\\OneDrive\\Documentos\\Projetos\\Angular-e-netcore\\Projeto-angular-e-netcore\\Projeto-angular-e-netcore\\ClientApp\\src\\app\\users\\users.component.html","C:\\Users\\armys\\OneDrive\\Documentos\\Projetos\\Angular-e-netcore\\Projeto-angular-e-netcore\\Projeto-angular-e-netcore\\ClientApp\\src\\app\\users\\users.component.ts"],"sourcesContent":["<div *ngIf=\"isAuthenticated\">\r\n  <h1 id=\"tableLabel\">Users</h1>\r\n  <button class=\"btn-primary\" (click)=\"showList = !showList\">{{showList ? 'Novo Usuário' : 'Lista de Usuários'}}</button>\r\n\r\n  <div *ngIf=\"showList\">\r\n    <p *ngIf=\"!users\"><em>Loading...</em></p>\r\n\r\n    <table class='table table-striped' aria-labelledby=\"tableLabel\" *ngIf=\"users\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Actions</th>\r\n          <th scope=\"col\">Name</th>\r\n          <th scope=\"col\">Email</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let user of users\">\r\n          <th scope=\"row\">\r\n            <button class=\"btn-primary\" (click)=\"edit(user)\">Editar</button>\r\n            <button class=\"btn-danger\" (click)=\"delete(user)\">Excluir</button>\r\n          </th>\r\n          <th scope=\"row\">{{ user.name }}</th>\r\n          <th scope=\"row\">{{ user.email}}</th>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div *ngIf=\"!showList\">\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputName\">Name:</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"exampleInputName\" aria-describedby=\"emailHelp\" placeholder=\"Name\" [(ngModel)]=\"user.name\" name=\"name\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputEmail\">Email:</label>\r\n        <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail\" placeholder=\"Email\" [(ngModel)]=\"user.email\" name=\"email\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputEmail\">Password:</label>\r\n        <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword\" placeholder=\"Password\" [(ngModel)]=\"user.password\" name=\"password\">\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary\" (click)=\"save()\">Save</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"!isAuthenticated\">\r\n  <form>\r\n    <div class=\"form-group\">\r\n      <label for=\"exampleInputEmail\">Email:</label>\r\n      <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail\" placeholder=\"Email\" [(ngModel)]=\"userLogin.email\" name=\"email\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"exampleInputEmail\">Password:</label>\r\n      <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword\" placeholder=\"Password\" [(ngModel)]=\"userLogin.password\" name=\"password\">\r\n    </div>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"authenticate()\">Login</button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UserDataService } from '../_data-services/user.data-service';\r\n\r\n@Component({\r\n  selector: 'app-users',\r\n  templateUrl: './users.component.html',\r\n  styleUrls: ['./users.component.css']\r\n})\r\nexport class UsersComponent implements OnInit {\r\n  users: any[] = [];\r\n  user: any = {};\r\n  userLogin: any = {};\r\n  userLogged: any = {};\r\n  showList: boolean = true;\r\n  isAuthenticated: boolean = false;\r\n\r\n  constructor(private userDataService: UserDataService) { }\r\n\r\n  ngOnInit() {\r\n    this.get();\r\n  }\r\n\r\n  get() {\r\n    this.userDataService.get().subscribe((data: Object) => {\r\n      this.users = data as any[];\r\n      this.showList = true;\r\n    }, error => {\r\n      console.log(error);\r\n      alert('erro interno do sistema');\r\n    })\r\n  }\r\n\r\n  put() {\r\n    this.userDataService.put(this.user).subscribe(data => {\r\n      if (data) {\r\n        alert('Usuario alterado com sucesso');\r\n        this.get();\r\n        this.user = {};\r\n      }\r\n      else {\r\n        alert('Erro ao alterar usuário');\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n      alert('erro interno do sistema - PUT');\r\n    });\r\n  }\r\n  post() {\r\n    this.userDataService.post(this.user).subscribe(data => {\r\n      if (data) {\r\n        alert('Usuario cadastrado com sucesso');        \r\n        this.get();\r\n        this.user = {};\r\n      }\r\n      else {\r\n        alert('Erro ao cadastrar usuário');\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n      alert('erro interno do sistema - POST');\r\n    });\r\n  }\r\n  save() {\r\n    if (this.user.id) {\r\n      this.put();\r\n    } else {\r\n      this.post();\r\n    }\r\n  }\r\n  edit(user:any) {\r\n    this.user = user;\r\n    this.showList = false;\r\n  }\r\n\r\n  delete(user: any) {\r\n    this.userDataService.delete(user.id).subscribe(data => {\r\n      if (data) {\r\n        alert('Usuario removido com sucesso');\r\n        this.get();\r\n        this.user = {};\r\n      }\r\n      else {\r\n        alert('Erro ao remover usuário');\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n      alert('erro interno do sistema - DELETE');\r\n    });\r\n  }\r\n\r\n  authenticate() {\r\n    debugger;\r\n    this.userDataService.authenticate(this.userLogin).subscribe((data:any) => {\r\n      if (data) {\r\n        alert('Usuario autenticado com sucesso');\r\n        this.get();\r\n      }\r\n      else {\r\n        alert('Erro ao autenticar usuário');\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n      alert('erro interno do sistema - Authenticate');\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\ninterface IUser {\r\n  name: string;\r\n  email: string;\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}